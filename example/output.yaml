resources:
    - apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: my-web-app
      spec:
        replicas: 5
        selector:
            matchLabels:
                app: my-web-app
    - apiVersion: v1
      kind: Service
      metadata:
        name: my-web-app-svc
      spec:
        selector:
            app: my-web-app
        type: ClusterIP
    - apiVersion: autoscaling/v2
      kind: HorizontalPodAutoscaler
      metadata:
        name: my-web-app-hpa
      spec:
        maxReplicas: 5
        minReplicas: 1
        scaleTargetRef:
            apiVersion: apps/v1
            kind: Deployment
            name: my-web-app
        targetCPUUtilizationPercentage: 50
